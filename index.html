<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chill Lounge Archive</title>

    <!-- Bootstrap Icons for mobile TikTok / YouTube circles -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <link rel="stylesheet" href="CSS/style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

  <!-- Side Decorative Images -->
  <div class="side-image side-left">
      <img src="assets/images/CLP14.jpeg" alt="Left Decoration">
  </div>

  <div class="side-image side-right">
      <img src="assets/images/CLP12.jpeg" alt="Right Decoration">
  </div>

  <!-- HERO VIDEO SECTION -->
  <header class="hero">
    <video
      class="hero-video"
      src="assets/tiktok-vids/podcast1.mp4"
      playsinline
      muted
      autoplay
      loop
    ></video>

    <!-- Navigation -->
    <nav class="section-nav">
        <ul>
            <li><a href="#podcasts">Podcasts</a></li>
            <li><a href="#social">TikTok</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#team">Meet the team</a></li>
        </ul>
    </nav>

    <!-- Hero Overlay (Clickable Logo + Tagline) -->
    <a href="#podcasts" class="hero-overlay-link">
        <div class="hero-overlay">
            <img src="assets/images/CLL.jpeg" alt="The Chill Lounge Logo" class="hero-logo" />
            <p class="hero-tagline" id="typed-tagline"></p>
        </div>
    </a>
  </header>

  <!-- Grey spacer between hero and content -->
  <section class="hero-spacer"></section>

  <!-- PODCAST BLOCK WRAPPER (Banner + Podcast Layout Together) -->
  <section class="podcast-block">

      <!-- Banner -->
      <div class="podcast-banner">
          <img src="assets/images/CLP11.jpeg" alt="The Chill Lounge Banner">

          <!-- CTA OVERLAY (TikTok left + YouTube right) -->
          <div class="banner-cta" aria-label="Follow and Subscribe call-to-actions">

              <!-- LEFT CTA (desktop / tablet) -->
              <div class="banner-cta__card banner-cta__card--left">
                  <p class="banner-cta__title">Follow us on TikTok</p>
                  <p class="banner-cta__sub">Daily clips, highlights &amp; behind-the-scenes.</p>

                  <a
                      class="cta-btn cta-btn--tiktok"
                      href="https://www.tiktok.com/@the.chill.lounge2"
                      target="_blank"
                      rel="noopener"
                  >
                      <i data-lucide="music-2"></i>
                      Follow on TikTok
                  </a>
              </div>

              <!-- RIGHT CTA (desktop / tablet) -->
              <div class="banner-cta__card banner-cta__card--right">
                  <p class="banner-cta__title">Subscribe on YouTube</p>
                  <p class="banner-cta__sub">Full episodes + more videos every week.</p>

                  <a
                      class="cta-btn cta-btn--youtube"
                      href="https://www.youtube.com/@thechillloungeee?sub_confirmation=1"
                      target="_blank"
                      rel="noopener"
                  >
                      <i data-lucide="youtube"></i>
                      Subscribe
                  </a>
              </div>

              <!-- MOBILE: ONLY TWO CIRCLE ICON BUTTONS -->
              <div class="banner-cta__circles">
                  <!-- TikTok circle on the left -->
                  <a
                      href="https://www.tiktok.com/@the.chill.lounge2"
                      target="_blank"
                      rel="noopener"
                      class="circle-btn circle-btn--tiktok"
                      aria-label="Follow on TikTok"
                  >
                      <i class="bi bi-tiktok"></i>
                  </a>

                  <!-- YouTube circle on the right -->
                  <a
                      href="https://www.youtube.com/@thechillloungeee?sub_confirmation=1"
                      target="_blank"
                      rel="noopener"
                      class="circle-btn circle-btn--youtube"
                      aria-label="Subscribe on YouTube"
                  >
                      <i class="bi bi-youtube"></i>
                  </a>
              </div>

          </div>
      </div>

      <!-- PODCAST SECTION -->
      <section id="podcasts" class="podcast-page">

          <!-- Left card -->
          <aside class="podcast-card">
              <img src="assets/images/CLP6.jpeg" alt="Podcast Cover" class="cover-img">
              <h1>The Chill Lounge</h1>
              <p>Podcast · 2 episodes · Last updated on 1 Feb 2026</p>
              <p>Catch our podcasts with our lovely guests.</p>
              <button class="play-latest" type="button">Play latest</button>

              <div class="quick-actions">
                  <button type="button" id="btnBookmark" class="icon-btn" aria-label="Bookmark">
                      <i data-lucide="bookmark"></i>
                  </button>

                  <button type="button" id="btnShare" class="icon-btn" aria-label="Share">
                      <i data-lucide="share-2"></i>
                  </button>

                  <div class="more-wrap">
                      <button type="button" id="btnMore" class="icon-btn" aria-label="More">
                          <i data-lucide="more-horizontal"></i>
                      </button>

                      <!-- Dropdown -->
                      <div class="more-menu" id="moreMenu" aria-hidden="true">
                          <button type="button" id="menuCopyLink">Copy link</button>
                          <button type="button" id="menuOpenYoutube">Open on YouTube</button>
                          <button type="button" id="menuSave">Save</button>
                      </div>
                  </div>
              </div>
          </aside>

          <!-- Right episode list -->
          <div class="episode-list">

              <!-- Filter/sorting -->
              <div class="episode-filters">
                  <button type="button">Latest ▼</button>
                  <button type="button">In progress</button>
                  <button type="button">Watched</button>
              </div>

              <!-- Episodes -->
              <div class="episodes">

                  <!-- Episode 1 -->
                  <div class="episode" data-video="n91ciXG__MM" role="button" tabindex="0">
                      <span class="episode-num">1</span>
                      <img src="assets/images/CLP7.jpeg" alt="Episode 1">
                      <div class="episode-info">
                          <h2>Prudence: Life as a Public Figure, Beauty, Influence, and Relationships</h2>
                          <p>The Chill Lounge · 789 views · 1 year ago</p>
                      </div>
                      <button class="episode-options" type="button" aria-label="More options">•••</button>
                  </div>

                  <!-- Episode 2 -->
                  <div class="episode" data-video="aFyJmFQ-DEY" role="button" tabindex="0">
                      <span class="episode-num">2</span>
                      <img src="assets/images/CLP8.jpeg" alt="Episode 2">
                      <div class="episode-info">
                          <h2>The Wisdom of the Sangoma || The Chill Lounge Episode 2</h2>
                          <p>The Chill Lounge · 3.7k views · 1 year ago</p>
                      </div>
                      <button class="episode-options" type="button" aria-label="More options">•••</button>
                  </div>

              </div>

              <!-- Right-side Carousel Toggle -->
              <div class="yt-carousel-toggle">
                  <button type="button" id="openYtCarousel" class="icon-btn icon-btn-dark" aria-label="More videos">
                      <i data-lucide="chevron-right"></i>
                  </button>
              </div>

              <!-- Right-side Sliding YouTube Carousel Panel -->
              <aside class="yt-carousel" id="ytCarousel" aria-hidden="true">
                  <div class="yt-carousel__header">
                      <h3>More from The Chill Lounge</h3>
                      <button type="button" class="yt-carousel__close" id="closeYtCarousel" aria-label="Close">✕</button>
                  </div>

                  <div class="yt-carousel__track" id="ytCarouselTrack">
                      <!-- Slide 1 -->
                      <div class="yt-slide" data-video="Cj6iJZiH08w&t=128s" role="button" tabindex="0">
                          <span class="yt-num">2</span>
                          <img src="assets/images/CLP10.jpeg" alt="Video thumbnail">
                          <div class="yt-info">
                              <h4>Campus Chronicles: Flirting Our Way Through South Africa!</h4>
                              <p>The Chill Lounge · YouTube</p>
                          </div>
                          <span class="yt-more">•••</span>
                      </div>

                      <!-- Slide 2 -->
                      <div class="yt-slide" data-video="u8-Lz6su6yE" role="button" tabindex="0">
                          <span class="yt-num">2</span>
                          <img src="assets/images/CLP11.jpeg" alt="Video thumbnail">
                          <div class="yt-info">
                              <h4>Manchester United Transfer Failures, Injuries &amp; Champions League Struggles | Fan Debate (2024)</h4>
                              <p>The Chill Lounge · YouTube</p>
                          </div>
                          <span class="yt-more">•••</span>
                      </div>
                  </div>

                  <div class="yt-carousel__nav">
                      <button type="button" class="yt-nav" id="ytPrev">◀</button>
                      <button type="button" class="yt-nav" id="ytNext">▶</button>
                  </div>
              </aside>

              <!-- Subscribe Box (RIGHT SIDE) -->
              <div class="subscribe-box">
                  <h3>Join The Chill Lounge</h3>
                  <p>Subscribe to our YouTube channel and never miss an episode.</p>

                  <a
                      href="https://www.youtube.com/@thechillloungeee?sub_confirmation=1"
                      target="_blank"
                      rel="noopener"
                      class="subscribe-btn"
                  >
                      Subscribe on YouTube
                  </a>
              </div>

          </div>

      </section>

  </section>

  <!-- VIDEO MODAL -->
  <div class="video-modal" id="videoModal" aria-hidden="true">
      <div class="video-modal__backdrop" id="videoBackdrop"></div>

      <div class="video-modal__dialog" role="dialog" aria-modal="true" aria-label="Podcast video player">
          <button class="video-modal__close" id="videoClose" aria-label="Close video">✕</button>

          <div class="video-modal__frame">
              <iframe
                  id="videoFrame"
                  src=""
                  title="YouTube video player"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen>
              </iframe>
          </div>
      </div>
  </div>

  <!-- =============================== -->
  <!-- TIKTOK SECTION – CARD CAROUSEL  -->
  <!-- =============================== -->
  <section id="social" class="tiktok-section">
    <div class="tiktok-carousel">
      <h3 class="section-title">TikTok Clips</h3>
      <p class="tiktok-carousel__subtitle">
        SWIPE THROUGH OUR MOST‑WATCHED TIKTOK MOMENTS.
      </p>

      <div class="tiktok-carousel__viewport">
        <div class="tiktok-carousel__track" id="tiktokTrack">

          <!-- Card 1 -->
          <article class="tiktok-card is-active" data-index="0">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7415336431863729414"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 1</p>
          </article>

          <!-- Card 2 -->
          <article class="tiktok-card" data-index="1">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7415325884011302149"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 2</p>
          </article>

          <!-- Card 3 -->
          <article class="tiktok-card" data-index="2">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7440839341737266488"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 3</p>
          </article>

          <!-- Card 4 -->
          <article class="tiktok-card" data-index="3">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7440765826183007544"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 4</p>
          </article>

          <!-- Card 5 -->
          <article class="tiktok-card" data-index="4">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7440579099698990392"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 5</p>
          </article>

          <!-- Card 6 -->
          <article class="tiktok-card" data-index="5">
            <div class="tiktok-card__frame">
              <div class="tiktok-card__overlay"></div>
              <iframe
                src="https://www.tiktok.com/embed/7414570023626312966"
                loading="lazy"
                allowfullscreen>
              </iframe>
            </div>
            <p class="tiktok-card__caption">Clip 6</p>
          </article>

        </div>

        <!-- Nav arrows -->
        <button class="tiktok-carousel__nav tiktok-carousel__nav--prev" id="tiktokPrev" aria-label="Previous clip">
          ◀
        </button>
        <button class="tiktok-carousel__nav tiktok-carousel__nav--next" id="tiktokNext" aria-label="Next clip">
          ▶
        </button>
      </div>

      <!-- Dots -->
      <div class="tiktok-carousel__dots" id="tiktokDots">
        <button class="is-active" data-index="0" aria-label="Go to clip 1"></button>
        <button data-index="1" aria-label="Go to clip 2"></button>
        <button data-index="2" aria-label="Go to clip 3"></button>
        <button data-index="3" aria-label="Go to clip 4"></button>
        <button data-index="4" aria-label="Go to clip 5"></button>
        <button data-index="5" aria-label="Go to clip 6"></button>
      </div>

      <div class="tiktok-carousel__cta">
        <a href="https://www.tiktok.com/@the.chill.lounge2"
           target="_blank" rel="noopener"
           class="cta-btn cta-btn--tiktok">
          <i data-lucide="music-2"></i>
          Follow on TikTok
        </a>
      </div>
    </div>
  </section>

  <!-- ABOUT + TEAM BLACK BAND -->
  <div class="about-band">
    <!-- ABOUT SECTION -->
    <section id="about" class="about">
      <div class="about-inner">
        <h2>About The Chill Lounge</h2>
        <p>
          The Chill Lounge was born out of the jump from a small city to big‑city Joburg at 19 –
          no friends, no family nearby, and barely enough money to get by. That experience of trying
          to figure out varsity life alone is the heartbeat of the show. The channel exists to uplift
          young men in university who feel like we did: far from home, under pressure, but still hungry
          to grow. We don’t claim to have all the answers, but we’ve picked up tools, lessons and
          confidence along the way – and we share them so the next guy doesn’t have to walk it alone.
        </p>

        <h3>What we talk about</h3>
        <ul class="about-list">
          <li>
            <strong>Relationships &amp; dating</strong> – late‑night chats about love,
            situationships and everything in between.
          </li>
          <li>
            <strong>Campus life &amp; young men</strong> – money struggles, new cities and the
            pressure to become “someone” fast.
          </li>
          <li>
            <strong>Football, sport &amp; escape</strong> – the pure expression and emotional
            escape that sport gives us.
          </li>
        </ul>
      </div>
    </section>

    <!-- TEAM SECTION -->
    <section id="team" class="about-team">
      <div class="about-inner">
        <div class="about-team-header">
          <h3>Meet the team</h3>
          <p>The faces and minds behind The Chill Lounge.</p>
        </div>

        <div class="about-team-grid">
          <article class="team-card">
            <img src="assets/images/CLK2.jpeg" alt="Khanyi" class="team-img">
            <h3>Khanyi</h3>
            <p class="team-role">Host · Producer · Director</p>
            <p class="team-bio">
              Khanyi is the driving mind behind The Chill Lounge, steering the conversations as host,
              producer and director with calm, confident energy.
            </p>
          </article>

          <article class="team-card">
            <img src="assets/images/CLB2.jpeg" alt="Chomp" class="team-img">
            <h3>Chomp</h3>
            <p class="team-role">Host · Editor · Director</p>
            <p class="team-bio">
              Chomp brings chaos and charm, risking his whole reputation for South Africa’s finest
              while dropping unfiltered honesty and one‑liners.
            </p>
          </article>

          <article class="team-card">
            <img src="assets/images/CLB.jpeg" alt="Boksie" class="team-img">
            <h3>Boksie</h3>
            <p class="team-role">Host · Producer</p>
            <p class="team-bio">
              Boksie is the cowboy from the mountains of Stiba, laid‑back on the mic but always ready
              to quietly steal the show.
            </p>
          </article>
        </div>
      </div>
    </section>
  </div>

  <!-- Typewriter Script -->
  <script>
      const taglineText = "Confidence. Culture. Real Connection.";
      const taglineElement = document.getElementById("typed-tagline");
      let index = 0;

      function typeWriter() {
          if (index < taglineText.length) {
              taglineElement.innerHTML += taglineText.charAt(index);
              index++;
              setTimeout(typeWriter, 100);
          }
      }

      const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
              if (entry.isIntersecting) {
                  typeWriter();
                  obs.unobserve(entry.target);
              }
          });
      }, { threshold: 0.5 });

      observer.observe(taglineElement);
  </script>

  <!-- Hero video autoplay helper -->
  <script>
    window.addEventListener("load", () => {
      const hv = document.querySelector(".hero-video");
      if (hv) {
        const playPromise = hv.play();
        if (playPromise && playPromise.catch) {
          playPromise.catch(() => {
            // if browser blocks autoplay, just ignore
          });
        }
      }
    });
  </script>

  <!-- Video Modal Script -->
  <script>
      const modal = document.getElementById("videoModal");
      const backdrop = document.getElementById("videoBackdrop");
      const closeBtn = document.getElementById("videoClose");
      const frame = document.getElementById("videoFrame");

      function parseStartTimeToSeconds(tVal) {
          if (!tVal) return 0;
          const raw = String(tVal).replace(/^t/, "").trim();

          if (/^\d+$/.test(raw)) return parseInt(raw, 10);
          if (/^\d+s$/.test(raw)) return parseInt(raw, 10);

          let seconds = 0;
          const h = raw.match(/(\d+)h/);
          const m = raw.match(/(\d+)m/);
          const s = raw.match(/(\d+)s/);

          if (h) seconds += parseInt(h[1], 10) * 3600;
          if (m) seconds += parseInt(m[1], 10) * 60;
          if (s) seconds += parseInt(s[1], 10);

          return seconds;
      }

      function normalizeYouTubeData(raw) {
          const str = String(raw || "").trim();
          let id = str;
          let start = 0;

          const parts = str.split("&");
          id = parts[0].split("?")[0];

          for (const p of parts) {
              if (p.startsWith("t=")) start = parseStartTimeToSeconds(p.slice(2));
              if (p.startsWith("start=")) start = parseStartTimeToSeconds(p.slice(6));
              if (/^t\d/.test(p)) start = parseStartTimeToSeconds(p);
          }

          if (str.includes("?")) {
              const qs = str.split("?")[1];
              const sp = new URLSearchParams(qs);
              if (sp.get("t")) start = parseStartTimeToSeconds(sp.get("t"));
              if (sp.get("start")) start = parseStartTimeToSeconds(sp.get("start"));
          }

          return { id, start };
      }

      function openVideo(videoData) {
          const { id, start } = normalizeYouTubeData(videoData);
          const startParam = start ? `&start=${start}` : "";
          frame.src = `https://www.youtube.com/embed/${id}?autoplay=1&rel=0${startParam}`;

          modal.classList.add("is-open");
          modal.setAttribute("aria-hidden", "false");
          document.body.style.overflow = "hidden";
      }

      function closeVideo() {
          modal.classList.remove("is-open");
          modal.setAttribute("aria-hidden", "true");
          frame.src = "";
          document.body.style.overflow = "";
      }

      document.querySelectorAll("#podcasts .episode[data-video]").forEach(ep => {
          ep.addEventListener("click", (e) => {
              if (e.target.closest(".episode-options")) return;
              openVideo(ep.getAttribute("data-video"));
          });

          ep.addEventListener("keydown", (e) => {
              if (e.key === "Enter" || e.key === " ") {
                  e.preventDefault();
                  openVideo(ep.getAttribute("data-video"));
              }
          });
      });

      backdrop.addEventListener("click", closeVideo);
      closeBtn.addEventListener("click", closeVideo);

      document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && modal.classList.contains("is-open")) closeVideo();
      });

      const playLatestBtn = document.querySelector("#podcasts .play-latest");
      if (playLatestBtn) {
          playLatestBtn.addEventListener("click", () => {
              const firstEpisode = document.querySelector("#podcasts .episode[data-video]");
              if (firstEpisode) openVideo(firstEpisode.getAttribute("data-video"));
          });
      }
  </script>

  <!-- YouTube Carousel Script -->
  <script>
    const ytCarousel = document.getElementById("ytCarousel");
    const openYtCarousel = document.getElementById("openYtCarousel");
    const closeYtCarousel = document.getElementById("closeYtCarousel");

    if (openYtCarousel && ytCarousel) {
      openYtCarousel.addEventListener("click", () => {
        ytCarousel.classList.add("is-open");
        ytCarousel.setAttribute("aria-hidden", "false");
      });
    }

    if (closeYtCarousel && ytCarousel) {
      closeYtCarousel.addEventListener("click", () => {
        ytCarousel.classList.remove("is-open");
        ytCarousel.setAttribute("aria-hidden", "true");
      });
    }

    const track = document.getElementById("ytCarouselTrack");
    const ytPrev = document.getElementById("ytPrev");
    const ytNext = document.getElementById("ytNext");

    function scrollTrack(dir) {
      if (!track) return;
      const slideWidth = track.querySelector(".yt-slide")?.offsetWidth || 460;
      track.scrollBy({ left: dir * (slideWidth + 14), behavior: "smooth" });
    }

    if (ytPrev) ytPrev.addEventListener("click", () => scrollTrack(-1));
    if (ytNext) ytNext.addEventListener("click", () => scrollTrack(1));

    document.querySelectorAll(".yt-slide[data-video]").forEach(slide => {
      slide.addEventListener("click", () => {
        const vid = slide.getAttribute("data-video");
        if (typeof openVideo === "function" && vid) openVideo(vid);
      });

      slide.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          const vid = slide.getAttribute("data-video");
          if (typeof openVideo === "function" && vid) openVideo(vid);
        }
      });
    });
  </script>

  <!-- TikTok Card Carousel Script (UPDATED swipe) -->
  <script>
    (function initTiktokCarousel(){
      const cards = Array.from(document.querySelectorAll(".tiktok-card"));
      if (!cards.length) return;

      const dotsWrap = document.getElementById("tiktokDots");
      const dots = dotsWrap ? Array.from(dotsWrap.querySelectorAll("button")) : [];
      const prevBtn = document.getElementById("tiktokPrev");
      const nextBtn = document.getElementById("tiktokNext");

      let current = 0;

      function updateClasses(){
        cards.forEach(c => c.classList.remove("is-active","is-prev","is-next"));
        dots.forEach(d => d.classList.remove("is-active"));

        const prev = (current - 1 + cards.length) % cards.length;
        const next = (current + 1) % cards.length;

        cards[current].classList.add("is-active");
        cards[prev].classList.add("is-prev");
        cards[next].classList.add("is-next");

        if (dots[current]) dots[current].classList.add("is-active");
      }

      function goTo(index){
        current = (index + cards.length) % cards.length;
        updateClasses();
      }

      if (prevBtn){
        prevBtn.addEventListener("click", () => goTo(current - 1));
      }
      if (nextBtn){
        nextBtn.addEventListener("click", () => goTo(current + 1));
      }

      dots.forEach(d => {
        d.addEventListener("click", () => {
          const idx = parseInt(d.getAttribute("data-index"), 10) || 0;
          goTo(idx);
        });
      });

      // Allow click on side cards
      cards.forEach((card, idx) => {
        card.addEventListener("click", () => {
          if (idx !== current) goTo(idx);
        });
      });

      // --- UPDATED swipe support ---
      let touchStartX = null;
      let touchStartY = null;

      function handleTouchStart(e) {
        const t = e.touches[0];
        touchStartX = t.clientX;
        touchStartY = t.clientY;
      }

      function handleTouchMove(e) {
        if (touchStartX === null || touchStartY === null) return;
        const t = e.touches[0];
        const diffX = t.clientX - touchStartX;
        const diffY = t.clientY - touchStartY;

        const horizontalThreshold = 10;
        const verticalLimit = 35;

        // mostly horizontal: prevent page from moving sideways
        if (Math.abs(diffX) > horizontalThreshold && Math.abs(diffY) < verticalLimit) {
          e.preventDefault();
        }
      }

      function handleTouchEnd(e) {
        if (touchStartX === null || touchStartY === null) return;
        const t = e.changedTouches[0];
        const diffX = t.clientX - touchStartX;
        const diffY = t.clientY - touchStartY;

        const swipeThreshold = 40;
        const verticalLimit = 35;

        // ignore vertical scroll gestures
        if (Math.abs(diffY) > verticalLimit) {
          touchStartX = touchStartY = null;
          return;
        }

        if (diffX > swipeThreshold) {
          goTo(current - 1); // swipe right => previous
        } else if (diffX < -swipeThreshold) {
          goTo(current + 1); // swipe left => next
        }

        touchStartX = touchStartY = null;
      }

      const viewport = document.querySelector(".tiktok-carousel__viewport");
      if (viewport) {
        viewport.addEventListener("touchstart", handleTouchStart, { passive: false });
        viewport.addEventListener("touchmove", handleTouchMove, { passive: false });
        viewport.addEventListener("touchend", handleTouchEnd, { passive: false });
      }
      // --- end swipe support ---

      updateClasses();
    })();
  </script>

  <script>
    lucide.createIcons();
  </script>

</body>
</html>
